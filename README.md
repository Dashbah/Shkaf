# Shkaf - Руководство по запуску приложения

## Подготовка базы данных

Перед запуском приложения не требуется дополнительсных настроек базы данных, так как она создается внутри контейнера и для внешнего соединения доступна на порту 5500 (localhost).

То есть для запуска можно не создавать у себя бд, просто довериться контейнеру. 

В таком случае при сборе контейнера данные из базы удалятся, но при повторном запуске без сборки они останутся.

## Запуск приложения

Перед выполнением нужно войти в папку Shkaf, ссодержащую Dockerfile.

```bash
# Переход по папкам
cd PapkaName
# Просмотр содержимого папки
ls
```
Для запуска приложения выполните следующие команды:

```bash
# Выполняется при первом запуске контейнера либо при значительных изменениях в коде.
# Что такое значительные я пока не совсем поняла
docker-compose build
# Выполняется всегда для поднятия (запуска) контейнера
docker-compose up
```

```bash
# В фоновом режиме вроде можно запустить так
docker-compose build
docker-compose up -d
```

Это запустит приложение в контейнере Docker.

## Признак запуска приложения

1) Лог в терминале
```
Application is running on port: 8090
```
2) При Get запросе по адресу http://localhost:8090/ будет выведено приветственное сообщение


## Остановка приложения

Чтобы остановить выполнение приложения в терминале, используйте комбинацию клавиш CTRL+C. Это прервёт выполнение приложения и остановит его работу.

```bash
# Остановка выполнения приложения в терминале
CTRL+C
# При запуске в фоновом режиме
docker-compose down
```

Это приведет к выходу из запущенных процессов и прекращению работы приложения.

## Документация

Документация подготовлена с помощью springdoc и доступна при запуске приложения по ссылке
http://localhost:8090/swagger-ui/index.html

Здесь можно протестировать работу приложения. 
При аутентификации / регистрации возвращается токен и открывается доступ к закрытым эндпоинтам. Э
то значит, что для тестирования в таком случае не нужно вводить токен вручную, браузер выполнит эту работу за нас


## Если что-то пошло не так

1) Стоит собрать все логи и рассказать о них
2) Можно удалить image в дашборде докера и собрать приложение еще раз